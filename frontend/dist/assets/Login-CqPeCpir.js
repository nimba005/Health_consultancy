import{u as p,j as e}from"./index-H8nQwn4j.js";import{c as u,a as t,u as x,T as i,o as f}from"./index.esm-B0LHh_lb.js";import{H as h}from"./HeaderStyles-DFg2iyoW.js";import{S as g}from"./SurfaceUI-CUuDGGy_.js";import{Q as j,a as b,B as v}from"./api-Dw1VhtpF.js";import{B as w}from"./Button-C1G34bZv.js";import"./TextField-DXPxd70r.js";import"./List-CbqeEIy8.js";import"./ButtonBase-BU2VddfJ.js";import"./createSvgIcon-hpeFtAVU.js";const y=u().shape({email:t().email("Invalid email").required("Email is required"),password:t().min(8,"Password must be at least 8 characters").required("Password is required")}),H=()=>{const s=p(),{control:a,handleSubmit:l,formState:{errors:o}}=x({resolver:f(y),defaultValues:{email:"",password:""}}),n=async c=>{try{const r=await b.post("/users/login",c),{user:m,token:d}=r.data;localStorage.setItem("user",JSON.stringify(m)),localStorage.setItem("token",d),s("/dashboard/consultations")}catch(r){v.error(r.response.data.message||"Please try again. An error occurred"),console.error("Login error:",r)}};return e.jsxs("div",{children:[e.jsxs(g,{children:[e.jsx("div",{className:" mb-8",children:e.jsx(h,{header_title:"Log In"})}),e.jsxs("form",{className:" flex flex-col gap-8",children:[e.jsxs("div",{className:" flex flex-col gap-5",children:[e.jsx(i,{name:"email",control:a,label:"Email",error:o.email,type:"text"}),e.jsx(i,{name:"password",control:a,label:"Password",type:"password",error:o.password})]}),e.jsxs("div",{className:" flex flex-col gap-2",children:[e.jsx(w,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:l(n),children:"Log In"}),e.jsxs("span",{children:["Don't have an account"," ",e.jsx("span",{onClick:()=>s("/auth/register"),className:" text-blue font-bold cursor-pointer",children:"Register"})]})]})]})]}),e.jsx(j,{})]})};export{H as default};
