import{j as t,r as P,c as O,_ as a,a as lt,g as it,s as L,b as rt,e as D,f as ct}from"./index-H8nQwn4j.js";import{Q as ut,a as dt,B as pt}from"./api-Dw1VhtpF.js";import{b as ht,a as Y,i as gt,P as bt}from"./List-CbqeEIy8.js";import{S as mt,I as xt,T as Pt}from"./TextField-DXPxd70r.js";import{d as S,M as Bt,I as ft,S as It,T as vt,a as Ct,b as jt,c as G,e as wt}from"./Search-9LlqrZRp.js";import{I as H,T as Lt}from"./listItemTextClasses-D-8D6WDd.js";import{c as W}from"./createSvgIcon-hpeFtAVU.js";import{T as yt}from"./Toolbar-CvrbzNy1.js";import"./ButtonBase-BU2VddfJ.js";const Rt=W(t.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Tt=W(t.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),St=W(t.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Mt=W(t.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),_t=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],kt=P.forwardRef(function(o,g){var I,m,j,B,y,b,v,u;const{backIconButtonProps:R,count:n,disabled:s=!1,getItemAriaLabel:d,nextIconButtonProps:E,onPageChange:T,page:i,rowsPerPage:f,showFirstButton:C,showLastButton:M,slots:x={},slotProps:l={}}=o,K=O(o,_t),r=ht(),U=w=>{T(w,0)},Q=w=>{T(w,i-1)},_=w=>{T(w,i+1)},c=w=>{T(w,Math.max(0,Math.ceil(n/f)-1))},p=(I=x.firstButton)!=null?I:H,k=(m=x.lastButton)!=null?m:H,$=(j=x.nextButton)!=null?j:H,F=(B=x.previousButton)!=null?B:H,A=(y=x.firstButtonIcon)!=null?y:Rt,z=(b=x.lastButtonIcon)!=null?b:Tt,h=(v=x.nextButtonIcon)!=null?v:Mt,J=(u=x.previousButtonIcon)!=null?u:St,tt=r?k:p,et=r?$:F,ot=r?F:$,st=r?p:k,nt=r?l.lastButton:l.firstButton,V=r?l.nextButton:l.previousButton,X=r?l.previousButton:l.nextButton,at=r?l.firstButton:l.lastButton;return t.jsxs("div",a({ref:g},K,{children:[C&&t.jsx(tt,a({onClick:U,disabled:s||i===0,"aria-label":d("first",i),title:d("first",i)},nt,{children:r?t.jsx(z,a({},l.lastButtonIcon)):t.jsx(A,a({},l.firstButtonIcon))})),t.jsx(et,a({onClick:Q,disabled:s||i===0,color:"inherit","aria-label":d("previous",i),title:d("previous",i)},V??R,{children:r?t.jsx(h,a({},l.nextButtonIcon)):t.jsx(J,a({},l.previousButtonIcon))})),t.jsx(ot,a({onClick:_,disabled:s||(n!==-1?i>=Math.ceil(n/f)-1:!1),color:"inherit","aria-label":d("next",i),title:d("next",i)},X??E,{children:r?t.jsx(J,a({},l.previousButtonIcon)):t.jsx(h,a({},l.nextButtonIcon))})),M&&t.jsx(st,a({onClick:c,disabled:s||i>=Math.ceil(n/f)-1,"aria-label":d("last",i),title:d("last",i)},at,{children:r?t.jsx(A,a({},l.firstButtonIcon)):t.jsx(z,a({},l.lastButtonIcon))}))]}))});function $t(e){return it("MuiTablePagination",e)}const N=lt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var Z;const At=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],Nt=L(S,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,o)=>o.root})(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}})),Ft=L(yt,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,o)=>a({[`& .${N.actions}`]:o.actions},o.toolbar)})(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${N.actions}`]:{flexShrink:0,marginLeft:20}})),zt=L("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,o)=>o.spacer})({flex:"1 1 100%"}),Dt=L("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,o)=>o.selectLabel})(({theme:e})=>a({},e.typography.body2,{flexShrink:0})),Ht=L(mt,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,o)=>a({[`& .${N.selectIcon}`]:o.selectIcon,[`& .${N.select}`]:o.select},o.input,o.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${N.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),Wt=L(Bt,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,o)=>o.menuItem})({}),Et=L("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,o)=>o.displayedRows})(({theme:e})=>a({},e.typography.body2,{flexShrink:0}));function Kt({from:e,to:o,count:g}){return`${e}â€“${o} of ${g!==-1?g:`more than ${o}`}`}function Ut(e){return`Go to ${e} page`}const Qt=e=>{const{classes:o}=e;return ct({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},$t,o)},Gt=P.forwardRef(function(o,g){var I;const m=rt({props:o,name:"MuiTablePagination"}),{ActionsComponent:j=kt,backIconButtonProps:B,className:y,colSpan:b,component:v=S,count:u,disabled:R=!1,getItemAriaLabel:n=Ut,labelDisplayedRows:s=Kt,labelRowsPerPage:d="Rows per page:",nextIconButtonProps:E,onPageChange:T,onRowsPerPageChange:i,page:f,rowsPerPage:C,rowsPerPageOptions:M=[10,25,50,100],SelectProps:x={},showFirstButton:l=!1,showLastButton:K=!1,slotProps:r={},slots:U={}}=m,Q=O(m,At),_=m,c=Qt(_),p=(I=r==null?void 0:r.select)!=null?I:x,k=p.native?"option":Wt;let $;(v===S||v==="td")&&($=b||1e3);const F=Y(p.id),A=Y(p.labelId),z=()=>u===-1?(f+1)*C:C===-1?u:Math.min(u,(f+1)*C);return t.jsx(Nt,a({colSpan:$,ref:g,as:v,ownerState:_,className:D(c.root,y)},Q,{children:t.jsxs(Ft,{className:c.toolbar,children:[t.jsx(zt,{className:c.spacer}),M.length>1&&t.jsx(Dt,{className:c.selectLabel,id:A,children:d}),M.length>1&&t.jsx(Ht,a({variant:"standard"},!p.variant&&{input:Z||(Z=t.jsx(xt,{}))},{value:C,onChange:i,id:F,labelId:A},p,{classes:a({},p.classes,{root:D(c.input,c.selectRoot,(p.classes||{}).root),select:D(c.select,(p.classes||{}).select),icon:D(c.selectIcon,(p.classes||{}).icon)}),disabled:R,children:M.map(h=>P.createElement(k,a({},!gt(k)&&{ownerState:_},{className:c.menuItem,key:h.label?h.label:h,value:h.value?h.value:h}),h.label?h.label:h))})),t.jsx(Et,{className:c.displayedRows,children:s({from:u===0?0:f*C+1,to:z(),count:u===-1?-1:u,page:f})}),t.jsx(j,{className:c.actions,backIconButtonProps:B,count:u,nextIconButtonProps:E,onPageChange:T,page:f,rowsPerPage:C,showFirstButton:l,showLastButton:K,slotProps:r.actions,slots:U.actions,getItemAriaLabel:n,disabled:R})]})}))}),q=[{id:"patient_name",label:"Patient Name",minWidth:170},{id:"consultation_date",label:"Consultation Date",minWidth:170},{id:"consultation_type",label:"Consultation Type",minWidth:170},{id:"consultation_summary",label:"Consultation Summary",minWidth:170}];function qt(){const[e,o]=P.useState([]),[g,I]=P.useState([]),[m,j]=P.useState(0),[B,y]=P.useState(10),[b,v]=P.useState("");P.useEffect(()=>{(async()=>{try{const s=await dt.get("/consultations/get-all-consultations");o(s.data.consultations),I(s.data.consultations)}catch(s){console.error("Error fetching consultations:",s),pt.error("Error fetching consultations, please reload the page")}})()},[]),P.useEffect(()=>{const n=e.filter(s=>s.patient_name.toLowerCase().includes(b.toLowerCase())||s.consultation_date.toLowerCase().includes(b.toLowerCase())||s.consultation_type.toLowerCase().includes(b.toLowerCase())||s.consultation_summary&&s.consultation_summary.toLowerCase().includes(b.toLowerCase()));I(n)},[b,e]);const u=(n,s)=>{j(s)},R=n=>{y(+n.target.value),j(0)};return t.jsxs(bt,{sx:{width:"100%",overflow:"hidden"},children:[t.jsx(Pt,{label:"Search Consultations",variant:"outlined",size:"small",fullWidth:!0,value:b,onChange:n=>v(n.target.value),InputProps:{endAdornment:t.jsx(ft,{position:"end",children:t.jsx(It,{})})},sx:{margin:2}}),t.jsx(vt,{sx:{maxHeight:440},children:t.jsxs(Ct,{stickyHeader:!0,"aria-label":"sticky table",children:[t.jsx(jt,{children:t.jsx(G,{children:q.map(n=>t.jsx(S,{align:n.align,style:{minWidth:n.minWidth},children:n.label},n.id))})}),t.jsx(wt,{children:g.length>0?g.slice(m*B,m*B+B).map(n=>t.jsx(G,{hover:!0,role:"checkbox",tabIndex:-1,children:q.map(s=>{const d=n[s.id];return t.jsx(S,{align:s.align,children:d},s.id)})},n.id)):t.jsx(G,{children:t.jsx(S,{colSpan:q.length,align:"center",children:t.jsx(Lt,{variant:"body1",children:"No consultations found."})})})})]})}),t.jsx(Gt,{rowsPerPageOptions:[10,25,100],component:"div",count:g.length,rowsPerPage:B,page:m,onPageChange:u,onRowsPerPageChange:R}),t.jsx(ut,{})]})}const se=()=>t.jsxs("div",{children:[t.jsx("h1",{className:" text-3xl font-bold mb-8",children:"List of Consultations"}),t.jsx(qt,{})]});export{se as default};
